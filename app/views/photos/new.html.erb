<div class="mdl-grid">
  <div class="mdl-cell mdl-cell--1-col mdl-cell--1-col-tablet"></div>

  <div class="mdl-cell mdl-cell--10-col mdl-cell--6-col-tablet" mdl-cell-4-col-phone>

    <% if defined?(@create_errors) && @create_errors.any? %>
      <p>There were errors uploading your photos.</p>
      <ul>
      <% @create_errors.each do |e| %>
        <li><%= e %></li>
      <% end %>
      </ul>

      <% if defined?(@create_success) && @create_success.any? %>
        <p>The following images were successfully uploaded</p>
        <ul>
        <% @create_success.each do |e| %>
          <li><%= e %></li>
        <% end %>
        </ul>
      <% end %>
    <% end %>

    <%= form_with scope: :photo, url: photos_path, multipart: true, local: true do |form| %>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input class="mdl-textfield__input" type="text" id="photo_caption" name="photo[caption]">
          <%= @photo.caption if @photo %>
        </input><br>
        <label class="mdl-textfield__label" for="photo_caption">Caption</label>
      </div><br>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <textarea class="mdl-textfield__input" type="text" rows="10" cols="80"
          id="photo_story" maxlength="4096" spellcheck name="photo[story]"><%= @photo.story if @photo %></textarea><br>
        <label class="mdl-textfield__label" for="photo_story">Story behind the photo...</label>
      </div><br>
      <div>
        <label for="photo_image" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
            Choose image to upload (PNG, JPG)
        </label>
        <input type="file" id="photo_image" name="photo[image]" accept=".jpg, .jpeg, .png">
      </div>
      <div class="preview">
        <p>No photo currently selected for upload</p>
      </div>
      <div>
        <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored">Submit</button>
      </div>
    <% end %>
  </div>

  <div class="mdl-cell mdl-cell--1-col mdl-cell--1-col-tablet"></div>

</div> <!-- grid -->